import{_ as a,o as c,c as u,a as t,n as r,g as p,s as d,r as v,b as _,w as b,v as f,t as g,F as k}from"./index-31543927.js";const x={name:"Lives",props:{lives:Number}},y={class:"hearts"};function L(i,s,n,h,e,o){return c(),u("div",y,[t("span",{class:r([{broken:n.lives<=0},"heart"])},null,2),t("span",{class:r([{broken:n.lives<=1},"heart"])},null,2),t("span",{class:r([{broken:n.lives<=2},"heart"])},null,2)])}const I=a(x,[["render",L]]);const w={name:"App",components:{Lives:I},props:{mode:String,voice:String},data(){return{speech:void 0,lives:3,score:0,error:!1,maxNumber:void 0,number:void 0,numbers:[],guess:void 0,intervalId:void 0,timeLeft:0}},mounted(){this.maxNumber=(()=>{switch(this.mode){case"easy":return 99;case"medium":return 999;case"hard":return 9999;default:return 99}})(),this.speech=new SpeechSynthesisUtterance,this.speech.volume=100,this.speech.rate=1,this.speech.pitch=1,this.speech.voice=p(this.voice),this.speech.onend=i=>{this.tick(),this.intervalId=setInterval(this.tick,1e3)}},methods:{tick(){--this.timeLeft>0||(clearInterval(this.intervalId),this.guess=this.number,this.error=!0,--this.lives==0&&setTimeout(()=>this.$router.push(`/gameover/${this.score}`),3e3))},start(){this.guess="",this.error=!1,this.speech.text=this.number=this.getNumber(),console.log(this.number),speechSynthesis.speak(this.speech),this.timeLeft=6,this.$nextTick(()=>d(this.$refs.input)),setTimeout(()=>window.scrollTo(0,0),200)},check(){this.guess==this.number&&(clearInterval(this.intervalId),this.score++,this.start())},back(){clearInterval(this.intervalId),this.$router.push(this.score>0?`/gameover/${this.score}`:"/")},getNumber(){return this.numbers.length==0&&(this.numbers=[...Array(this.maxNumber+1).keys()].map(i=>({value:i,sort:Math.random()})).sort((i,s)=>i.sort-s.sort).map(({value:i})=>i)),this.numbers.pop()}}},N={class:"topbar"},S=["disabled"],V=["disabled"],T=["value"];function C(i,s,n,h,e,o){const m=v("Lives");return c(),u(k,null,[t("span",N,[_(m,{lives:e.lives},null,8,["lives"]),t("span",{class:"back",onClick:s[0]||(s[0]=l=>o.back())})]),t("button",{class:"button circle play",disabled:e.timeLeft>0||e.lives==0,onClick:s[1]||(s[1]=l=>o.start())},null,8,S),b(t("input",{class:r(["number-input",{error:e.error}]),ref:"input",disabled:e.timeLeft<=0,type:"text",inputmode:"numeric",pattern:"[0-9]*","onUpdate:modelValue":s[2]||(s[2]=l=>e.guess=l),onKeyup:s[3]||(s[3]=l=>o.check())},null,42,V),[[f,e.guess]]),t("progress",{class:r(["progress",{hidden:e.timeLeft==0}]),value:e.timeLeft-1,max:"5"},null,10,T),t("div",{class:r(["score",{hidden:e.score<0}])},g(e.score),3)],64)}const B=a(w,[["render",C]]);export{B as default};
