import{_ as a,o as c,c as u,a as i,n as r,g as v,r as d,b as p,w as f,v as g,d as b,t as k,F as _}from"./index.f0d9cf2d.js";const L={name:"Lives",props:{lives:Number}},x={class:"hearts"};function I(s,e,n,h,t,o){return c(),u("div",x,[i("span",{class:r([{broken:n.lives<=0},"heart"])},null,2),i("span",{class:r([{broken:n.lives<=1},"heart"])},null,2),i("span",{class:r([{broken:n.lives<=2},"heart"])},null,2)])}const y=a(L,[["render",I]]),$={name:"App",components:{Lives:y},props:{mode:String,voice:String},data(){return{lives:3,score:-1,error:!1,number:void 0,guess:void 0,intervalId:void 0,timeLeft:0}},methods:{tick(){--this.timeLeft==0&&(this.lives--,clearInterval(this.intervalId),this.lives<=0&&this.$router.push(`/gameover/${this.score}`))},getNumber(){const s=this.mode=="easy"?99:this.mode=="medium"?999:this.mode=="hard"?9999:99,e=Math.floor(Math.random()*s);return console.log(e),e},start(){const s=new SpeechSynthesisUtterance;s.text=this.number=this.getNumber(),s.volume=100,s.rate=1,s.pitch=1,s.voice=v(this.voice),this.score<0&&(this.score=0),s.onend=e=>{this.tick(),this.intervalId=setInterval(this.tick,1e3)},speechSynthesis.speak(s),this.timeLeft=6,this.$nextTick(()=>this.$refs.input.focus())},check(){this.guess!=""&&(console.log(this.guess==this.number),this.guess==this.number?this.score++:(this.lives--,this.error=!0,setTimeout(()=>this.error=!1,500)),clearInterval(this.intervalId),this.guess="",this.lives<=0?this.$router.push(`/gameover/${this.score}`):this.start())},back(){clearInterval(this.intervalId),this.score>0?this.$router.push(`/gameover/${this.score}`):this.$router.push("/")}}},S=["disabled"],w=["disabled"],N=["value"];function V(s,e,n,h,t,o){const m=d("Lives");return c(),u(_,null,[p(m,{lives:t.lives},null,8,["lives"]),i("span",{class:"back",onClick:e[0]||(e[0]=l=>o.back())},"\u2A2F"),i("button",{class:"button circle play",disabled:t.timeLeft>0,onClick:e[1]||(e[1]=l=>o.start())},null,8,S),f(i("input",{class:r(["number-input",{error:t.error}]),ref:"input",disabled:t.timeLeft<=0,type:"text",inputmode:"numeric",pattern:"[0-9]*","onUpdate:modelValue":e[2]||(e[2]=l=>t.guess=l),onKeyup:e[3]||(e[3]=b(l=>o.check(),["enter"]))},null,42,w),[[g,t.guess]]),i("progress",{class:r(["progress",{hidden:t.timeLeft==0}]),value:t.timeLeft-1,max:"5"},null,10,N),i("div",{class:r(["score",{hidden:t.score<0}])},k(t.score),3)],64)}const M=a($,[["render",V]]);export{M as default};
