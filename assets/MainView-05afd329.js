import{_ as c,o as a,c as u,a as t,n as i,g as m,s as p,r as v,b as _,w as f,v as b,t as g,F as k}from"./index-366d7b04.js";const x={name:"Lives",props:{lives:Number}},L={class:"hearts"};function y(l,s,n,h,e,r){return a(),u("div",L,[t("span",{class:i([{broken:n.lives<=0},"heart"])},null,2),t("span",{class:i([{broken:n.lives<=1},"heart"])},null,2),t("span",{class:i([{broken:n.lives<=2},"heart"])},null,2)])}const I=c(x,[["render",y]]);const w={name:"App",components:{Lives:I},props:{mode:String,voice:String},data(){return{speech:void 0,lives:3,score:0,error:!1,maxNumber:void 0,number:void 0,guess:void 0,intervalId:void 0,timeLeft:0}},mounted(){this.maxNumber=(()=>{switch(this.mode){case"easy":return 99;case"medium":return 999;case"hard":return 9999;default:return 99}})(),this.speech=new SpeechSynthesisUtterance,this.speech.volume=100,this.speech.rate=1,this.speech.pitch=1,this.speech.voice=m(this.voice),this.speech.onend=l=>{this.tick(),this.intervalId=setInterval(this.tick,1e3)}},methods:{tick(){--this.timeLeft>0||(clearInterval(this.intervalId),this.guess=this.number,this.error=!0,--this.lives==0&&setTimeout(()=>this.$router.push(`/gameover/${this.score}`),3e3))},start(){this.guess="",this.error=!1,this.speech.text=this.number=Math.floor(Math.random()*this.maxNumber),console.log(this.number),speechSynthesis.speak(this.speech),this.timeLeft=6,this.$nextTick(()=>p(this.$refs.input))},check(){this.guess==this.number&&(clearInterval(this.intervalId),this.score++,this.start())},back(){clearInterval(this.intervalId),this.$router.push(this.score>0?`/gameover/${this.score}`:"/")}}},N=["disabled"],S=["disabled"],V=["value"];function M(l,s,n,h,e,r){const d=v("Lives");return a(),u(k,null,[_(d,{lives:e.lives},null,8,["lives"]),t("span",{class:"back",onClick:s[0]||(s[0]=o=>r.back())}),t("button",{class:"button circle play",disabled:e.timeLeft>0||e.lives==0,onClick:s[1]||(s[1]=o=>r.start())},null,8,N),f(t("input",{class:i(["number-input",{error:e.error}]),ref:"input",disabled:e.timeLeft<=0,type:"text",inputmode:"numeric",pattern:"[0-9]*","onUpdate:modelValue":s[2]||(s[2]=o=>e.guess=o),onKeyup:s[3]||(s[3]=o=>r.check())},null,42,S),[[b,e.guess]]),t("progress",{class:i(["progress",{hidden:e.timeLeft==0}]),value:e.timeLeft-1,max:"5"},null,10,V),t("div",{class:i(["score",{hidden:e.score<0}])},g(e.score),3)],64)}const B=c(w,[["render",M]]);export{B as default};
