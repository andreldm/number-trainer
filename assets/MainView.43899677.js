import{_ as a,o as c,c as u,a as i,n as r,g as d,s as v,r as p,b as f,w as b,v as g,t as k,F as _}from"./index.0af3cb84.js";const L={name:"Lives",props:{lives:Number}},x={class:"hearts"};function I(s,e,n,h,t,o){return c(),u("div",x,[i("span",{class:r([{broken:n.lives<=0},"heart"])},null,2),i("span",{class:r([{broken:n.lives<=1},"heart"])},null,2),i("span",{class:r([{broken:n.lives<=2},"heart"])},null,2)])}const y=a(L,[["render",I]]),S={name:"App",components:{Lives:y},props:{mode:String,voice:String},data(){return{lives:3,score:-1,error:!1,number:void 0,guess:void 0,intervalId:void 0,timeLeft:0}},methods:{tick(){--this.timeLeft==0&&(this.lives--,this.error=!0,this.guess="",setTimeout(()=>this.error=!1,500),clearInterval(this.intervalId),this.lives<=0&&this.$router.push(`/gameover/${this.score}`))},getNumber(){const s=this.mode=="easy"?99:this.mode=="medium"?999:this.mode=="hard"?9999:99,e=Math.floor(Math.random()*s);return console.log(e),e},start(){const s=new SpeechSynthesisUtterance;s.text=this.number=this.getNumber(),s.volume=100,s.rate=1,s.pitch=1,s.voice=d(this.voice),this.score<0&&(this.score=0),s.onend=e=>{this.tick(),this.intervalId=setInterval(this.tick,1e3)},speechSynthesis.speak(s),this.timeLeft=6,this.$nextTick(()=>v(this.$refs.input))},check(){this.guess==this.number&&(clearInterval(this.intervalId),this.score++,this.guess="",this.start())},back(){clearInterval(this.intervalId),this.score>0?this.$router.push(`/gameover/${this.score}`):this.$router.push("/")}}},N=["disabled"],V=["disabled"],$=["value"];function w(s,e,n,h,t,o){const m=p("Lives");return c(),u(_,null,[f(m,{lives:t.lives},null,8,["lives"]),i("span",{class:"back",onClick:e[0]||(e[0]=l=>o.back())},"\u2A2F"),i("button",{class:"button circle play",disabled:t.timeLeft>0,onClick:e[1]||(e[1]=l=>o.start())},null,8,N),b(i("input",{class:r(["number-input",{error:t.error}]),ref:"input",disabled:t.timeLeft<=0,type:"text",inputmode:"numeric",pattern:"[0-9]*","onUpdate:modelValue":e[2]||(e[2]=l=>t.guess=l),onKeyup:e[3]||(e[3]=l=>o.check())},null,42,V),[[g,t.guess]]),i("progress",{class:r(["progress",{hidden:t.timeLeft==0}]),value:t.timeLeft-1,max:"5"},null,10,$),i("div",{class:r(["score",{hidden:t.score<0}])},k(t.score),3)],64)}const M=a(S,[["render",w]]);export{M as default};
